#:import ADMIN_SCREEN cilantro_audit.constants.ADMIN_SCREEN
#:import VIEW_FLAG_TRENDS_PAGE cilantro_audit.constants.VIEW_FLAG_TRENDS_PAGE

<ViewFlagTrendsPage>:
    question_text_col: question_text_col
    audit_title_col: audit_title_col
    times_flagged_col: times_flagged_col

    GridLayout:
        rows: 2
        cols: 1
        spacing: 10

        GridLayout:
            rows: 2
            cols: 1
            spacing: 10
            size_hint_x: 1.8

            GridLayout:
                rows: 1
                cols: 3
                spacing: 10
                size_hint_y: 0.1

                Button:
                    text: 'Question'
                    on_release:
                        #root.manager.get_screen(VIEW_FLAG_TRENDS_PAGE).sort_by_question()

                Button:
                    text: 'Audit Title'
                    on_release:
                        #root.manager.get_screen(VIEW_FLAG_TRENDS_PAGE).sort_by_audit_template()

                Button:
                    text: 'Times Flagged'
                    on_release:
                        #root.manager.get_screen(VIEW_FLAG_TRENDS_PAGE).sort_by_times_flagged()

            ScrollView:
                GridLayout:
                    rows: 1
                    cols: 3
                    spacing: 10
                    size_hint_y: None
                    height: self.minimum_height

                    StackLayout:
                        id: question_text_col
                        size_hint_y: None
                        height: self.minimum_height

                    StackLayout:
                        id: audit_title_col
                        size_hint_y: None
                        height: self.minimum_height

                    StackLayout:
                        id: times_flagged_col
                        size_hint_y: None
                        height: self.minimum_height

        GridLayout:
            rows: 1
            cols: 2
            size_hint: 1, 0.1

            Button:
                text: 'Return to Admin Page'
                on_release:
                    root.manager.current = ADMIN_SCREEN

            Button:
                text: 'Refresh List'
                on_release:
                    root.manager.get_screen(VIEW_FLAG_TRENDS_PAGE).refresh_flagged_questions()


<DataLabel>:
    size_hint_y: None
    text_size: self.width, None
    halign: 'center'

    canvas.before:
        Color:
            rgb: 0.1, 0.1, 0.1, 1
        Rectangle:
            size: self.size
            pos: self.pos

        Color:
            rgb: 0, 0, 0, 1
        Rectangle:
            pos: self.pos
            size: 1000, 5